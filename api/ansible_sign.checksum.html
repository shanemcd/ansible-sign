
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ansible_sign.checksum package &#8212; ansible-sign 0.0.post1.dev1+gb37fa17 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ansible-sign-checksum-package">
<h1>ansible_sign.checksum package<a class="headerlink" href="#ansible-sign-checksum-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ansible_sign.checksum.differ.html">ansible_sign.checksum.differ package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ansible_sign.checksum.differ.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_sign.checksum.differ.html#module-ansible_sign.checksum.differ.base">ansible_sign.checksum.differ.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_sign.checksum.differ.html#module-ansible_sign.checksum.differ.distlib_manifest">ansible_sign.checksum.differ.distlib_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_sign.checksum.differ.html#module-ansible_sign.checksum.differ">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-ansible_sign.checksum.base">
<span id="ansible-sign-checksum-base-module"></span><h2>ansible_sign.checksum.base module<a class="headerlink" href="#module-ansible_sign.checksum.base" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ansible_sign.checksum.base.</span></span><span class="sig-name descname"><span class="pre">ChecksumFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">differ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.10/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Slurp a checksum file and be able to check and compare its contents to a
given root directory. Also: be able to write out a checksum file.</p>
<p>We only allow sha256 for now, though supporting 512, etc. would be easy.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumFile.calculate_checksum">
<span class="sig-name descname"><span class="pre">calculate_checksum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumFile.calculate_checksum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumFile.calculate_checksum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumFile.calculate_checksums_from_root">
<span class="sig-name descname"><span class="pre">calculate_checksums_from_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verifying</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumFile.calculate_checksums_from_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumFile.calculate_checksums_from_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the root of the project and the differ class passed to the
constructor, iterate over all files in the project and calculate their
checksums. Return a dictionary of the result, keyed on the filename.</p>
<p>Just calling this is not enough in many cases- you want to ensure that
the files in the checksum list are the same ones present in reality.
diff() above does just that. Use that in combination with this method,
or use verify() which does it for you.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumFile.diff">
<span class="sig-name descname"><span class="pre">diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumFile.diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumFile.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a collection of paths, use the differ to figure out which files
(in reality) have been added/removed from the project root (or latest
SCM tree).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumFile.generate_gnu_style">
<span class="sig-name descname"><span class="pre">generate_gnu_style</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumFile.generate_gnu_style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumFile.generate_gnu_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the root directory and ‘differ’ class given to the constructor,
generate a GNU-style checksum manifest file. This is always generated
from scratch by finding the list of relevant files in the root directory
(by asking the differ), and calculating the checksum for each of them.</p>
<p>The resulting list is always sorted by filename.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumFile.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checksum_file_contents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumFile.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a complete checksum manifest as a string, parse it and return a
dict with the result, keyed on each filename or path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumFile.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed_manifest_dct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumFile.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumFile.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a parsed manifest file (e.g. using parse(), with paths as keys and
checksums as values).</p>
<p>Then calculates the current list of files in the project root. If paths
have been added or removed, ChecksumMismatch is raised.</p>
<p>Otherwise, each the checksum of file in the project root (and subdirs)
is calculated and that result is checked to be equal to the parsed
checksums passed in.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.ChecksumMismatch">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ansible_sign.checksum.base.</span></span><span class="sig-name descname"><span class="pre">ChecksumMismatch</span></span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#ChecksumMismatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.ChecksumMismatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.10/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.InvalidChecksumLine">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ansible_sign.checksum.base.</span></span><span class="sig-name descname"><span class="pre">InvalidChecksumLine</span></span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#InvalidChecksumLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.InvalidChecksumLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.10/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ansible_sign.checksum.base.NoDifferException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ansible_sign.checksum.base.</span></span><span class="sig-name descname"><span class="pre">NoDifferException</span></span><a class="reference internal" href="../_modules/ansible_sign/checksum/base.html#NoDifferException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ansible_sign.checksum.base.NoDifferException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.10/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

</section>
<section id="module-ansible_sign.checksum">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ansible_sign.checksum" title="Permalink to this heading">¶</a></h2>
<p>This package handles checksum validation for Ansible content.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">ansible-sign</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rundown.html">Rundown (CLI Tutorial)</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Red Hat, Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/ansible_sign.checksum.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>